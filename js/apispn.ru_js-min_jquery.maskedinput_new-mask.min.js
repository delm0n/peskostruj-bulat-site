!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}((function(e){var n,t=navigator.userAgent,a=/iphone/i.test(t),i=/chrome/i.test(t),r=/android/i.test(t);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!1,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,n){var t;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof e?(n="number"==typeof n?n:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,n):this.createTextRange&&((t=this.createTextRange()).collapse(!0),t.moveEnd("character",n),t.moveStart("character",e),t.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,n=this[0].selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),e=0-t.duplicate().moveStart("character",-1e5),n=e+t.text.length),{begin:e,end:n})},unmask:function(){return this.trigger("unmask")},mask:function(t,o){var c,l,u,f,s,h,m;if(!t&&this.length>0){var g=e(this[0]).data(e.mask.dataName);return g?g():void 0}return o=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},o),c=e.mask.definitions,l=[],u=h=t.length,f=null,t=String(t),e.each(t.split(""),(function(e,n){"?"==n?(h--,u=e):c[n]?(l.push(new RegExp(c[n])),null===f&&(f=l.length-1),e<u&&(s=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){var g=e(this),d=e.map(t.split(""),(function(e,n){if("?"!=e)return c[e]?k(n):e})),p=d.join(""),v=g.val();function b(){if(o.completed){for(var e=f;e<=s;e++)if(l[e]&&d[e]===k(e))return;o.completed.call(g)}}function k(e){return e<o.placeholder.length?o.placeholder.charAt(e):o.placeholder.charAt(0)}function _(e){for(;++e<h&&!l[e];);return e}function y(e,n){var t,a;if(!(e<0)){for(t=e,a=_(n);t<h;t++)if(l[t]){if(!(a<h&&l[t].test(d[a])))break;d[t]=d[a],d[a]=k(a),a=_(a)}A(),g.caret(Math.max(f,e))}}function x(e){R(),g.val()!=v&&g.change()}function j(e,n){var t;for(t=e;t<n&&t<h;t++)l[t]&&(d[t]=k(t))}function A(){g.val(d.join(""))}function R(e){var n,t,a,i=g.val(),r=-1;for(n=0,a=0;n<h;n++)if(l[n]){for(d[n]=k(n);a++<i.length;)if(t=i.charAt(a-1),l[n].test(t)){d[n]=t,r=n;break}if(a>i.length){j(n+1,h);break}}else d[n]===i.charAt(a)&&a++,n<u&&(r=n);return e?A():r+1<u?o.autoclear||d.join("")===p?(g.val()&&g.val(""),j(0,h)):A():(A(),g.val(g.val().substring(0,r+1))),u?n:f}g.data(e.mask.dataName,(function(){return e.map(d,(function(e,n){return l[n]&&e!=k(n)?e:null})).join("")})),g.one("unmask",(function(){g.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;g.prop("readonly")||(clearTimeout(n),v=g.val(),e=R(),n=setTimeout((function(){g.get(0)===document.activeElement&&(A(),e==t.replace("?","").length?g.caret(0,e):g.caret(e))}),10))})).on("blur.mask",x).on("keydown.mask",(function(e){if(!g.prop("readonly")){var n,t,i,r=e.which||e.keyCode;m=g.val(),8===r||46===r||a&&127===r?(t=(n=g.caret()).begin,(i=n.end)-t==0&&(t=46!==r?function(e){for(;--e>=0&&!l[e];);return e}(t):i=_(t-1),i=46===r?_(i):i),j(t,i),y(t,i-1),e.preventDefault()):13===r?x.call(this,e):27===r&&(g.val(v),g.caret(0,R()),e.preventDefault())}})).on("keypress.mask",(function(n){if(!g.prop("readonly")){var t,a,i,o=n.which||n.keyCode,c=g.caret();if(!(n.ctrlKey||n.altKey||n.metaKey||o<32)&&o&&13!==o){if(c.end-c.begin!=0&&(j(c.begin,c.end),y(c.begin,c.end-1)),(t=_(c.begin-1))<h&&(a=String.fromCharCode(o),l[t].test(a))){if(function(e){var n,t,a,i;for(n=e,t=k(e);n<h;n++)if(l[n]){if(a=_(n),i=d[n],d[n]=t,!(a<h&&l[a].test(i)))break;t=i}}(t),d[t]=a,A(),i=_(t),r){setTimeout((function(){e.proxy(e.fn.caret,g,i)()}),0)}else g.caret(i);c.begin<=s&&b()}n.preventDefault()}}})).on("input.mask paste.mask",(function(){g.prop("readonly")||setTimeout((function(){var e=R(!0);g.caret(e),b()}),0)})),i&&r&&g.off("input.mask").on("input.mask",(function(e){var n=g.val(),t=g.caret();if(m&&m.length&&m.length>n.length){for(R(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<f&&!l[t.begin];)t.begin++;g.caret(t.begin,t.begin)}else{R(!0);var a=n.charAt(t.begin);t.begin<h&&(l[t.begin]||t.begin++,l[t.begin].test(a)&&t.begin++),g.caret(t.begin,t.begin)}b()})),R()}))}})})),$(document).ready((function(){-1!==location.pathname.indexOf("v-armeniyu")?$('input[name="phone"]').mask("999(99)99-99-99",{placeholder:"___ __ __ __ __"}):$('input[name="phone"]').mask("+7(999)999-99-99",{placeholder:"_ ___ ___ __ __"})}));